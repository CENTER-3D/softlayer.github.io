<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Order a performance storage (block/file) - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/python/order_performance_storage/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/fa-svg-with-js.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>
    <script src="https://sldn.softlayer.com/js/fontawesome-all.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-88235803-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>November 22, 2018<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Order">SoftLayer_Product_Order</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Container_Product_Order_Network_PerformanceStorage_Iscsi">SoftLayer_Container_Product_Order_Network_PerformanceStorage_Iscsi</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Container_Product_Order_Network_PerformanceStorage_Nfs">SoftLayer_Container_Product_Order_Network_PerformanceStorage_Nfs</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/order">order</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/storage">storage</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/performance">performance</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>Order a performance storage (block/file)</h1>
                    <small>Shows how to order performance storage devices</small>
                </div>
				
                
				
                <h3 id="important-note-there-is-a-new-version-of-storage-devices-staas-v2-so-it-is-recomended-to-review-order-blockfile-storages-with-managersorder_block_file_storage_with_managers"><strong>Important Note:</strong> There is a new version of storage devices (STaaS v2) so it is recomended to review <a href="../order_block_file_storage_with_managers">Order Block/File storages with Managers</a></h3>
<p>Performance Block/File storage devices are under package 222 and they are differentiated by the <code>complexType</code> in the order template, being <code>SoftLayer_Container_Product_Order_Network_PerformanceStorage_Iscsi</code> for Block and <code>SoftLayer_Container_Product_Order_Network_PerformanceStorage_Nfs</code> for File storages.</p>
<p>These storage devices do not support snapshots, there is not any category name called <code>storage_snapshot_space</code> or similar in the package configuration, you can execute the following code to verify this last.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> SoftLayer
<span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint

client <span style="color:#f92672">=</span> SoftLayer<span style="color:#f92672">.</span>Client()
packageService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Product_Package&#39;</span>]

result <span style="color:#f92672">=</span> packageService<span style="color:#f92672">.</span>getConfiguration(id<span style="color:#f92672">=</span><span style="color:#ae81ff">222</span>, mask<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;itemCategory&#34;</span>)
pprint(result)
</code></pre></div><p><br /></p>
<p><strong>Tips before ordering</strong></p>
<p>In most of the cases the order verification fails whether the selected price cannot be ordered in the selected location or it does not meet the capacity restriction of the storage space.</p>
<p>Following REST call retrieves all prices under package 240 and shows on which locations are available, if <code>locationGroupId</code> is null means the price is standard and can be used on any location.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://api.softlayer.com/rest/v3.1/SoftLayer_Product_Package/222/getItemPrices?objectMask=mask[id,capacityRestrictionMaximum,capacityRestrictionMinimum,capacityRestrictionType,locationGroupId,item[capacity,description],categories,pricingLocationGroup[locations]]
</code></pre></div><p>About capacity restrictions, the <code>performance_storage_iops</code> items have capacity restrictions (min/max) which should match with the <code>capacity</code> value of the selected <code>performance_storage_space</code> item, it means if you want an storage space of &ldquo;40 GB Storage Space&rdquo; and &ldquo;600 IOPS&rdquo;:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    {
        <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">40692</span>,
        <span style="color:#f92672">&#34;locationGroupId&#34;</span>: <span style="color:#66d9ef">null</span>,
        <span style="color:#f92672">&#34;categories&#34;</span>: [
            {
                <span style="color:#f92672">&#34;categoryCode&#34;</span>: <span style="color:#e6db74">&#34;performance_storage_space&#34;</span>,
                <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">382</span>,
                <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Storage Space&#34;</span>,
                <span style="color:#f92672">&#34;quantityLimit&#34;</span>: <span style="color:#ae81ff">0</span>,
                <span style="color:#f92672">&#34;sortOrder&#34;</span>: <span style="color:#66d9ef">null</span>
            }
        ],
        <span style="color:#f92672">&#34;item&#34;</span>: {
            <span style="color:#f92672">&#34;capacity&#34;</span>: <span style="color:#e6db74">&#34;40&#34;</span>,
            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;40 GB Storage Space&#34;</span>
        }
    }
</code></pre></div><p>Then price of <code>performance_storage_iops</code> should be:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">    {
        <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">40942</span>,
        <span style="color:#f92672">&#34;locationGroupId&#34;</span>: <span style="color:#66d9ef">null</span>,
        <span style="color:#f92672">&#34;capacityRestrictionMaximum&#34;</span>: <span style="color:#e6db74">&#34;40&#34;</span>,
        <span style="color:#f92672">&#34;capacityRestrictionMinimum&#34;</span>: <span style="color:#e6db74">&#34;40&#34;</span>,
        <span style="color:#f92672">&#34;capacityRestrictionType&#34;</span>: <span style="color:#e6db74">&#34;STORAGE_SPACE&#34;</span>,
        <span style="color:#f92672">&#34;categories&#34;</span>: [
            {
                <span style="color:#f92672">&#34;categoryCode&#34;</span>: <span style="color:#e6db74">&#34;performance_storage_iops&#34;</span>,
                <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#ae81ff">384</span>,
                <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Performance Storage IOPS&#34;</span>,
                <span style="color:#f92672">&#34;quantityLimit&#34;</span>: <span style="color:#ae81ff">0</span>,
                <span style="color:#f92672">&#34;sortOrder&#34;</span>: <span style="color:#66d9ef">null</span>
            }
        ],
        <span style="color:#f92672">&#34;item&#34;</span>: {
            <span style="color:#f92672">&#34;capacity&#34;</span>: <span style="color:#e6db74">&#34;600&#34;</span>,
            <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;600 IOPS&#34;</span>
        }
    }
</code></pre></div><h2 id="block-performance-storage"><strong>Block Performance Storage</strong></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> SoftLayer
<span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint

orderTemplate <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#34;complexType&#34;</span>: <span style="color:#e6db74">&#34;SoftLayer_Container_Product_Order_Network_PerformanceStorage_Iscsi&#34;</span>,
    <span style="color:#e6db74">&#34;location&#34;</span>: <span style="color:#e6db74">&#34;DALLAS05&#34;</span>,
    <span style="color:#e6db74">&#34;quantity&#34;</span>: <span style="color:#ae81ff">1</span>,
    <span style="color:#e6db74">&#34;packageId&#34;</span>: <span style="color:#ae81ff">222</span>,
    <span style="color:#75715e"># To see the list of prices available for the package</span>
    <span style="color:#75715e"># use the SoftLayer_Product_Package::getItems method with masks</span>
    <span style="color:#75715e"># or SoftLayer_Product_Package::getItemPrices</span>
    <span style="color:#e6db74">&#34;prices&#34;</span>: [
        {<span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#ae81ff">40672</span>},      <span style="color:#75715e"># BlockStorage(Performance) keyName: performance_storage_iscsi</span>
        {<span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#ae81ff">40692</span>},      <span style="color:#75715e"># 40GB Storage Space        keyName: performance_storage_space</span>
        {<span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#ae81ff">40942</span>}       <span style="color:#75715e"># 600 IOPS                  keyName: performance_storage_iops</span>
    ],
    <span style="color:#e6db74">&#34;osFormatType&#34;</span>: {<span style="color:#e6db74">&#34;keyName&#34;</span>: <span style="color:#e6db74">&#34;LINUX&#34;</span>}
}

<span style="color:#75715e"># Declares the API client to use the SoftLayer_Product_Order API service</span>
client <span style="color:#f92672">=</span> SoftLayer<span style="color:#f92672">.</span>Client()
productOrderService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Product_Order&#39;</span>]

<span style="color:#66d9ef">try</span>:
    <span style="color:#75715e"># Use placeOrder method when you ready to order</span>
    result <span style="color:#f92672">=</span> productOrderService<span style="color:#f92672">.</span>verifyOrder(orderTemplate)
    pprint(result)
<span style="color:#66d9ef">except</span> SoftLayer<span style="color:#f92672">.</span>SoftLayerAPIError <span style="color:#66d9ef">as</span> e:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Unable to place the order. </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">, </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (e<span style="color:#f92672">.</span>faultCode, e<span style="color:#f92672">.</span>faultString))
</code></pre></div><h2 id="file-performance-storage"><strong>File Performance Storage</strong></h2>
<p>Since the prices are the same, basically it is only to required change the price of <code>performance_storage_iscsi</code> by <code>performance_storage_nfs</code>, and remove the property <code>osFormatType</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> SoftLayer
<span style="color:#f92672">from</span> pprint <span style="color:#f92672">import</span> pprint

orderTemplate <span style="color:#f92672">=</span> {
    <span style="color:#e6db74">&#39;complexType&#39;</span>: <span style="color:#e6db74">&#39;SoftLayer_Container_Product_Order_Network_PerformanceStorage_Nfs&#39;</span>,
    <span style="color:#e6db74">&#39;quantity&#39;</span>: <span style="color:#ae81ff">1</span>,
    <span style="color:#e6db74">&#39;packageId&#39;</span>: <span style="color:#ae81ff">222</span>,
    <span style="color:#e6db74">&#39;location&#39;</span>: <span style="color:#e6db74">&#39;DALLAS09&#39;</span>,
    <span style="color:#75715e"># To see the list of prices available for the package</span>
    <span style="color:#75715e"># use the SoftLayer_Product_Package::getItems method with masks</span>
    <span style="color:#75715e"># or SoftLayer_Product_Package::getItemPrices</span>
    <span style="color:#e6db74">&#39;prices&#39;</span>: [
        {<span style="color:#e6db74">&#39;id&#39;</span>: <span style="color:#ae81ff">40662</span>},  <span style="color:#75715e"># File Storage (Performance)    keyName: performance_storage_nfs</span>
        {<span style="color:#e6db74">&#39;id&#39;</span>: <span style="color:#ae81ff">40692</span>},  <span style="color:#75715e"># 40GB Storage Space            keyName: performance_storage_space</span>
        {<span style="color:#e6db74">&#39;id&#39;</span>: <span style="color:#ae81ff">40942</span>}   <span style="color:#75715e"># 600 IOPS                      keyName: performance_storage_iops</span>
    ]
}

<span style="color:#75715e"># Declares the API client</span>
client <span style="color:#f92672">=</span> SoftLayer<span style="color:#f92672">.</span>Client()

<span style="color:#66d9ef">try</span>:
    <span style="color:#75715e"># Use placeOrder method when you ready to order</span>
    result <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Product_Order&#39;</span>]<span style="color:#f92672">.</span>verifyOrder(orderTemplate)
    pprint(result)
<span style="color:#66d9ef">except</span> SoftLayer<span style="color:#f92672">.</span>SoftLayerAPIError <span style="color:#66d9ef">as</span> e:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Unable to place the order. </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">, </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (e<span style="color:#f92672">.</span>faultCode, e<span style="color:#f92672">.</span>faultString))
</code></pre></div><h2 id="complex-example"><strong>Complex example</strong></h2>
<p>Following is a more complex example which order a block storage by setting only the parameters of location, size, iops, and os.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> SoftLayer
<span style="color:#f92672">import</span> json

<span style="color:#75715e"># Values &#34;AMS01&#34;, &#34;AMS03&#34;, &#34;CHE01&#34;, &#34;DAL05&#34;, &#34;DAL06&#34; &#34;FRA02&#34;, &#34;HKG02&#34;, &#34;LON02&#34;, etc.</span>
location <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;AMS01&#34;</span>

<span style="color:#75715e"># Values &#34;20&#34;, &#34;40&#34;, &#34;80&#34;, &#34;100&#34;, etc.</span>
storageSize <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;40&#34;</span>

<span style="color:#75715e"># Values between &#34;100&#34; and &#34;6000&#34; by intervals of 100.</span>
iops <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;100&#34;</span>

<span style="color:#75715e"># Values &#34;Hyper-V&#34;, &#34;Linux&#34;, &#34;VMWare&#34;, &#34;Windows 2008+&#34;, &#34;Windows GPT&#34;, &#34;Windows 2003&#34;, &#34;Xen&#34;</span>
os <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Linux&#34;</span>

PACKAGE_ID <span style="color:#f92672">=</span> <span style="color:#ae81ff">222</span>

client <span style="color:#f92672">=</span> SoftLayer<span style="color:#f92672">.</span>Client()
productOrderService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Product_Order&#39;</span>]
packageService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Product_Package&#39;</span>]
locationService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Location&#39;</span>]
osService <span style="color:#f92672">=</span> client[<span style="color:#e6db74">&#39;SoftLayer_Network_Storage_Iscsi_OS_Type&#39;</span>]

objectFilterDatacenter <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;name&#34;</span>: {<span style="color:#e6db74">&#34;operation&#34;</span>: location<span style="color:#f92672">.</span>lower()}}
objectFilterStorageNfs <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;items&#34;</span>: {<span style="color:#e6db74">&#34;categories&#34;</span>: {<span style="color:#e6db74">&#34;categoryCode&#34;</span>: {<span style="color:#e6db74">&#34;operation&#34;</span>: <span style="color:#e6db74">&#34;performance_storage_iscsi&#34;</span>}}}}
objectFilterOsType <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;name&#34;</span>: {<span style="color:#e6db74">&#34;operation&#34;</span>: os}}

<span style="color:#66d9ef">try</span>:
    <span style="color:#75715e"># Getting the datacenter.</span>
    datacenter <span style="color:#f92672">=</span> locationService<span style="color:#f92672">.</span>getDatacenters(filter<span style="color:#f92672">=</span>objectFilterDatacenter)
    <span style="color:#75715e"># Getting the performance storage NFS prices.</span>
    itemsStorageNfs <span style="color:#f92672">=</span> packageService<span style="color:#f92672">.</span>getItems(id<span style="color:#f92672">=</span>PACKAGE_ID, filter<span style="color:#f92672">=</span>objectFilterStorageNfs)
    <span style="color:#75715e"># Getting the storage space prices</span>
    objectFilter <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;itemPrices&#34;</span>: {
            <span style="color:#e6db74">&#34;item&#34;</span>: {
                <span style="color:#e6db74">&#34;capacity&#34;</span>: {
                    <span style="color:#e6db74">&#34;operation&#34;</span>: storageSize
                }
            },
            <span style="color:#e6db74">&#34;categories&#34;</span>: {
                <span style="color:#e6db74">&#34;categoryCode&#34;</span>: {
                    <span style="color:#e6db74">&#34;operation&#34;</span>: <span style="color:#e6db74">&#34;performance_storage_space&#34;</span>
                }
            },
            <span style="color:#e6db74">&#34;locationGroupId&#34;</span>: {
                <span style="color:#e6db74">&#34;operation&#34;</span>: <span style="color:#e6db74">&#34;is null&#34;</span>
            }
        }
    }
    pricesStorageSpace <span style="color:#f92672">=</span> packageService<span style="color:#f92672">.</span>getItemPrices(id<span style="color:#f92672">=</span>PACKAGE_ID, filter<span style="color:#f92672">=</span>objectFilter)
    <span style="color:#75715e"># If the prices list is empty that means that the storage space value is invalid.</span>
    <span style="color:#66d9ef">if</span> len(pricesStorageSpace) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#39;The storage space value: &#39;</span> <span style="color:#f92672">+</span> storageSize <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; GB, is not valid.&#39;</span>)
    <span style="color:#75715e"># Getting the IOPS prices</span>
    objectFilter <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;itemPrices&#34;</span>: {
            <span style="color:#e6db74">&#34;item&#34;</span>: {
                <span style="color:#e6db74">&#34;capacity&#34;</span>: {
                    <span style="color:#e6db74">&#34;operation&#34;</span>: iops
                }
            },
            <span style="color:#e6db74">&#34;attributes&#34;</span>: {
                <span style="color:#e6db74">&#34;value&#34;</span>: {
                    <span style="color:#e6db74">&#34;operation&#34;</span>: storageSize
                }
            },
            <span style="color:#e6db74">&#34;categories&#34;</span>: {
                <span style="color:#e6db74">&#34;categoryCode&#34;</span>: {
                    <span style="color:#e6db74">&#34;operation&#34;</span>: <span style="color:#e6db74">&#34;performance_storage_iops&#34;</span>
                }
            },
            <span style="color:#e6db74">&#34;locationGroupId&#34;</span>: {
                <span style="color:#e6db74">&#34;operation&#34;</span>: <span style="color:#e6db74">&#34;is null&#34;</span>
            }
        }
    }
    pricesIops <span style="color:#f92672">=</span> packageService<span style="color:#f92672">.</span>getItemPrices(id<span style="color:#f92672">=</span>PACKAGE_ID, filter<span style="color:#f92672">=</span>objectFilter)
    <span style="color:#75715e"># If the prices list is empty that means that the IOPS value is invalid for the configured storage space.</span>
    <span style="color:#66d9ef">if</span> len(pricesIops) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#39;The IOPS value: &#39;</span> <span style="color:#f92672">+</span> iops <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;, is not valid for the storage space: &#39;</span> <span style="color:#f92672">+</span> storageSize <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; GB.&#39;</span>)
    <span style="color:#75715e"># Getting the OS.</span>
    os <span style="color:#f92672">=</span> osService<span style="color:#f92672">.</span>getAllObjects(filter<span style="color:#f92672">=</span>objectFilterOsType)
    <span style="color:#75715e"># Building the order template.</span>
    orderData <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;complexType&#34;</span>: <span style="color:#e6db74">&#34;SoftLayer_Container_Product_Order_Network_PerformanceStorage_Iscsi&#34;</span>,
        <span style="color:#e6db74">&#34;packageId&#34;</span>: PACKAGE_ID,
        <span style="color:#e6db74">&#34;location&#34;</span>: datacenter[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;id&#39;</span>],
        <span style="color:#e6db74">&#34;quantity&#34;</span>: <span style="color:#ae81ff">1</span>,
        <span style="color:#e6db74">&#34;prices&#34;</span>: [
            {
                <span style="color:#e6db74">&#34;id&#34;</span>: itemsStorageNfs[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;prices&#39;</span>][<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;id&#39;</span>]
            },
            {
                <span style="color:#e6db74">&#34;id&#34;</span>: pricesStorageSpace[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;id&#39;</span>]
            },
            {
                <span style="color:#e6db74">&#34;id&#34;</span>: pricesIops[<span style="color:#ae81ff">0</span>][<span style="color:#e6db74">&#39;id&#39;</span>]
            }
        ],
        <span style="color:#e6db74">&#34;osFormatType&#34;</span>: os[<span style="color:#ae81ff">0</span>]
    }
    <span style="color:#75715e"># verifyOrder() will check your order for errors. Replace this with a call to</span>
    <span style="color:#75715e"># placeOrder() when you&#39;re ready to order. Both calls return a receipt object</span>
    <span style="color:#75715e"># that you can use for your records.</span>
    response <span style="color:#f92672">=</span> productOrderService<span style="color:#f92672">.</span>verifyOrder(orderData)
    <span style="color:#66d9ef">print</span>(json<span style="color:#f92672">.</span>dumps(response, sort_keys<span style="color:#f92672">=</span>True, indent<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, separators<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;,&#39;</span>, <span style="color:#e6db74">&#39;: &#39;</span>)))
<span style="color:#66d9ef">except</span> SoftLayer<span style="color:#f92672">.</span>SoftLayerAPIError <span style="color:#66d9ef">as</span> e:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Unable to place the order. faultCode=</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">, faultString=</span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">%</span> (e<span style="color:#f92672">.</span>faultCode, e<span style="color:#f92672">.</span>faultString))

</code></pre></div>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
            
        <div class="col-md-6">
            
<div class="panel panel-default">
    <div class="panel-heading" style="padding: 2px 15px;">
        <h4>More Documentation</h4>
    </div>
    <div class="panel-body">
        <a href="https://softlayer.github.com/reference/softlayerapi"><i class="fa fa-link"></i> SoftLayer API Reference<br></a>
        <a href="https://github.com/softlayer/softlayer-java"><i class="fab fa-github"></i> softlayer-java<br></a>
        <a href="https://github.com/softlayer/softlayer-api-perl-client"><i class="fab fa-github"></i> softlayer-perl<br></a>
        <a href="https://github.com/softlayer/softlayer-api-php-client"><i class="fab fa-github"></i> softlayer-php<br></a>
        <a href="https://github.com/softlayer/softlayer-python"><i class="fab fa-github"></i> softlayer-python<br></a>
        <a href="https://github.com/softlayer/softlayer-ruby"><i class="fab fa-github"></i> softlayer-ruby<br></a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading text-center" style="padding: 2px 15px;">
      <a href="https://www.facebook.com/IBMBluemixIaaS/"><i class="fab fa-facebook-square" alt="facebook"></i> </a>
      <a href="https://twitter.com/IBMBluemixIaaS"><i class="fab fa-twitter" alt="twitter"></i> </a>
      <a href="http://www.linkedin.com/company/softlayer-technologies-inc-" alt="linked-in"><i class="fab fa-linkedin"></i> </a>
      <a href="https://github.com/softlayer/softlayer.github.io"><i class="fab fa-github" alt="github"></i> </a>

    </div>
</div>

        </div>
        <div class="col-md-6">
            <div class="well well-sm" style="word-wrap: break-word;"> 
                <strong>Feedback? <span class="fa fa-comment"/></strong>
                    <p>
                        We would love to hear it<br>
                        <a class="" href="https://github.com/softlayer/api_examples/issues/new?title=Feedback%20for%20python%20-%20Order%20a%20performance%20storage%20%28block%2ffile%29&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fpython%2forder_performance_storage%2f"><span class="fa fa-github-square"/> Open an issue</a>
                    </p>
            </div>
        </div>

    </div>
        <footer>
            <div class="row">
                <hr>
                <div class="col-sm-12">
                    <p>&copy; SoftLayer 2015<br>
                    Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
                </div>
            </div>
        </footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
